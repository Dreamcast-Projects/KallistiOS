<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: Performance monitor</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;git master</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('group__perf__monitor.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Performance monitor<div class="ingroups"><a class="el" href="group__debugging.html">Debugging</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Code performance monitor  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="perf__monitor_8h.html">perf_monitor.h</a></td></tr>
<tr class="memdesc:perf__monitor_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Low-level performance monitor. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga62c61981f91df24b5188ed86998bd2b7" id="r_ga62c61981f91df24b5188ed86998bd2b7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga62c61981f91df24b5188ed86998bd2b7">perf_monitor</a>()&#160;&#160;&#160;_perf_monitor(__func__, __LINE__)</td></tr>
<tr class="memdesc:ga62c61981f91df24b5188ed86998bd2b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a performance monitor in the current functional block.  <br /></td></tr>
<tr class="separator:ga62c61981f91df24b5188ed86998bd2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f051cc81cdacd6314abace898d85cf5" id="r_ga3f051cc81cdacd6314abace898d85cf5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga3f051cc81cdacd6314abace898d85cf5">perf_monitor_if</a>(tst)&#160;&#160;&#160;_perf_monitor_if(__func__, __LINE__, tst)</td></tr>
<tr class="memdesc:ga3f051cc81cdacd6314abace898d85cf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a performance monitor for branch likeliness analysis.  <br /></td></tr>
<tr class="separator:ga3f051cc81cdacd6314abace898d85cf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gacae44717c675112e78b998e19e1bf531" id="r_gacae44717c675112e78b998e19e1bf531"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacae44717c675112e78b998e19e1bf531">perf_monitor_init</a> (<a class="el" href="group__perf__counters.html#ga31675ab20e99e7e50db03368a3c390c1">perf_cntr_event_t</a> event1, <a class="el" href="group__perf__counters.html#ga31675ab20e99e7e50db03368a3c390c1">perf_cntr_event_t</a> event2)</td></tr>
<tr class="memdesc:gacae44717c675112e78b998e19e1bf531"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the performance monitor system.  <br /></td></tr>
<tr class="separator:gacae44717c675112e78b998e19e1bf531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga820fdd7d4930bf416b90eb94d52ee137" id="r_ga820fdd7d4930bf416b90eb94d52ee137"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga820fdd7d4930bf416b90eb94d52ee137">perf_monitor_exit</a> (void)</td></tr>
<tr class="memdesc:ga820fdd7d4930bf416b90eb94d52ee137"><td class="mdescLeft">&#160;</td><td class="mdescRight">De-initialize the performance monitor system.  <br /></td></tr>
<tr class="separator:ga820fdd7d4930bf416b90eb94d52ee137"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6781f2e91cd9531dec52d18237244a62" id="r_ga6781f2e91cd9531dec52d18237244a62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga6781f2e91cd9531dec52d18237244a62">perf_monitor_print</a> (FILE *f)</td></tr>
<tr class="memdesc:ga6781f2e91cd9531dec52d18237244a62"><td class="mdescLeft">&#160;</td><td class="mdescRight">Print statistics about the probe points to the given file descriptor.  <br /></td></tr>
<tr class="separator:ga6781f2e91cd9531dec52d18237244a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Code performance monitor </p>
<p>The performance monitor API is built on top of the performance counter API, and as such cannot be used at the same time. With this API, programs can set probe points in different functional blocks and later obtain statistics about the execution of said functional blocks. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga62c61981f91df24b5188ed86998bd2b7" name="ga62c61981f91df24b5188ed86998bd2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga62c61981f91df24b5188ed86998bd2b7">&#9670;&#160;</a></span>perf_monitor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define perf_monitor</td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td>&#160;&#160;&#160;_perf_monitor(__func__, __LINE__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a performance monitor in the current functional block. </p>
<p>The performance monitor will run from the moment this macro is used, till the end of the functional block. </p>

</div>
</div>
<a id="ga3f051cc81cdacd6314abace898d85cf5" name="ga3f051cc81cdacd6314abace898d85cf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3f051cc81cdacd6314abace898d85cf5">&#9670;&#160;</a></span>perf_monitor_if</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define perf_monitor_if</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>tst</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;_perf_monitor_if(__func__, __LINE__, tst)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a performance monitor for branch likeliness analysis. </p>
<p>This macro is designed to be used inside an "if" expression, for instance: if (perf_monitor_if(!strcmp("test", str))) { ... }</p>
<p>The resulting performance monitor will measure the number of calls, and the number of times the branch was taken (in event1) and the number of time it was not (in event0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tst</td><td>The boolean expression that is normally used inside the "if" check </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga820fdd7d4930bf416b90eb94d52ee137" name="ga820fdd7d4930bf416b90eb94d52ee137"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga820fdd7d4930bf416b90eb94d52ee137">&#9670;&#160;</a></span>perf_monitor_exit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perf_monitor_exit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De-initialize the performance monitor system. </p>
<p>After this function is called, the performance counter API can be used again. </p>

</div>
</div>
<a id="gacae44717c675112e78b998e19e1bf531" name="gacae44717c675112e78b998e19e1bf531"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacae44717c675112e78b998e19e1bf531">&#9670;&#160;</a></span>perf_monitor_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perf_monitor_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__perf__counters.html#ga31675ab20e99e7e50db03368a3c390c1">perf_cntr_event_t</a></td>          <td class="paramname"><span class="paramname"><em>event1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__perf__counters.html#ga31675ab20e99e7e50db03368a3c390c1">perf_cntr_event_t</a></td>          <td class="paramname"><span class="paramname"><em>event2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the performance monitor system. </p>
<p>Set up the performance monitor system. Note that using the performance monitor system will conflict with any external usage of the performance counter API.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">event1</td><td>The first event mode (pef_cntr_event_t). </td></tr>
    <tr><td class="paramname">event2</td><td>The second event mode (pef_cntr_event_t). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6781f2e91cd9531dec52d18237244a62" name="ga6781f2e91cd9531dec52d18237244a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6781f2e91cd9531dec52d18237244a62">&#9670;&#160;</a></span>perf_monitor_print()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void perf_monitor_print </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>f</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Print statistics about the probe points to the given file descriptor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">f</td><td>A valid file descriptor to which the messages will be printed. Use "stdout" for the standard output. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
